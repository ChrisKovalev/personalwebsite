(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAQJJREFUWIXt2DGKg0AYhuF3jFUQBgZS2ZhD5BCB1FYezyo3SLXVVnuI2FgFhAFJO1uEibO7ISz8kEnxv5XogA9o9QHQtVXo2irwJqWesmurcNiv47Nw/trkkwHb3YXUUz46NEzT60RJjXN/7pX9cTZAAPg4rYCJ0XvzYlssDKcVcAWgP86mBFg+a1Yco/emtjb5zWaK+HCY8uJio/cm/cWKJ2ffIgVKU6A0BUpToDQFSlOgNAVKU6A0BUpToDQFSlOgNAVKU6C0O7Bxjtra7DNwbW1Ih8wCbrPrdne5H8hDW96den5t1Nc4ZmZBNs79b6N+tBXn6sdGfbues4I+z5B6vgG90VcDNzvQCAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAAAAXNSR0IArs4c6QAAAVdJREFUaIHtmM2KwjAQx//Kei4EPHmpIugL7Ps/gC+gsKy9eCoEPPdQD3ZdKeZjkthMcH63foX8mGZmGEAQBEEQ2DBLtdCqqvrn68v1mmztlHylWGRVVX2t1Ph2z1E6ekPPsuvvFgBwPiwBAI3W7CIdFeGx7HazGJ60D2luzEM/fCW73y0cX+UnSLhUWSBAmCo7zt65IZ1hqmytFBqtJ5e2JUrvDEqRPZ46/Px2WRJXozUAs7RXhKmR/X/WUvYazfmwfPxVJpzCoQkqTxJzl0OrcGw2nlL6eOq83jNm6ZJLj43gxqNUjL/0kOX6WqnhXNwTUOlRtp7hWGnfczUlziwdKv1Xi6fEp+571WGqNIfGw4R3a+krPZZ1beAd2FpLUi9NjbSrzcsBeQBAleYkCwROPEouWcEjHpM0d6JmWiZprvMsINFc+tWYluPEEvjAQbwgCIIgMOIGv4PTYu2YvxUAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAAAAXNSR0IArs4c6QAAAV5JREFUaIHtmLFqwzAQQF9LOwsMmbykpdD+QP//A/IDCZQmS6eAIbMHd3CcuK5ly9ZZucC9TcaIezr5JB8YhmEYhhoebh2Aj9y5qj3+OZ1EYn2SmESa3LlqnWXdx5WEtLoMt2VfPo8A7DcrAA5FEZ1plRmGWvbt9fk8OrLfrDgvRFSm1Qo3fLzLSqsXBllpVcLdytxGSnpQeCiApeipzhckpL3CjexQAEvRFKyr4JVY6cEMd4+HVPhkG2KkR7/hv8dDGoZk/78zTTq4aIUEkZo50qqq9BymSj8mi0wJdy+83ZV8fZfB9+3gLb3dlQLhhRFaL6bKQoBwPVnaYwnGpefIwojwoShYZ9ll0nTUC+yTnisLI//Dt7xa+m5bMbIwkmGptkoouXNVs6v6iJUFZVV6KHgJWVAm7ENKFu5AWFIWFF8t28ehZBNPXdcS+tu0ErKgVBiWa8QbhmEYhiJ+AVbZBW04JO/3AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAeCAYAAAC7Q5mxAAAAAXNSR0IArs4c6QAAAcFJREFUaIHtmTFuwjAUhv+0Zulo1L1GSO0dmDqhSj1A116CFWXNjZiYMnGBVkK4cyU8VV1QRYfoFRMZJ8ZuEsCfxGAQsf3xnnm2gYgXyUiIbduDCEkuZdJkfwwAPpTC4/inyX7/jVw22x/LpUxGQmzlYl/kcNBrdiQnCgN2Ya+LxHgDAHh+umlxeN2H6Q2jSHwD2EXkw32MTB1metMWkUQUWXBl+zCXMsmlTO44h1zcYj67xnK1wXK1wdt78QpBmvWd2l3CKpCoEulDmvXBOf+TVNXuGsYUPoQttS81pZ0EErrI+eyyJR4lkHYvVDcOB72LlAc4CiyLE4CzPH0tm07WLt0H+X5oagk8JA6on7Y0cc45AEAp5TxYgp6RZkW7TZGVAkdCbH3EAbt/0tDoItuSWKuM8WU6WUMp5RV1JuiZnY7A8mHDsTsSmiSlnQ/0Q5zMGli1tXNJZ99Jd0GaTiykPYmFtCexkPbE6f6gLA5wL6RNpFl/b22ratt4ef1s9E6kVmeHxAHdS9umBVpTOMQO5NwxCozi6rMn0CQuXirZYYA94kId258rrHxYQCxXUVwdGAAUdx1tDyUUX20PIOLCL16uJjcpbuCuAAAAAElFTkSuQmCC"},function(e,t,o){e.exports=o(25)},,,,,,,,function(e,t,o){},,function(e,t,o){},,,,function(e,t,o){"use strict";o.r(t);var n=o(1),A=o.n(n),a=o(4),r=o.n(a),i=(o(19),o(0)),d=(o(21),o(5)),l=o.n(d),s=o(6),c=o.n(s),u=o(7),g=o.n(u),y=o(8),v=o.n(y),p=o(9),f=o.n(p),C=o(10),B=o.n(C),Q=(o(23),"\n\nvarying vec3 v_Normal;\nvarying vec2 v_uv;\n\nvoid main(){\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n  v_Normal = normal;\n  v_uv = uv;\n\n}\n"),h="\nuniform sampler2D v_texture;\n\nvarying vec3 v_Normal;\nvarying vec2 v_uv;\n\nvoid main() {\n  vec4 tex = texture2D(v_texture, v_uv);\n  gl_FragColor = vec4(tex.xyz, 1);\n}\n",m=new l.a;m.showPanel(0),document.body.appendChild(m.dom);var E=window.innerWidth,w=window.innerHeight,I=.5,U=.5,x=Math.floor(w*U),F=Math.floor(E*I),X=x*F,b=new Uint8Array(4*X),Y=0,K=0,S=!1,N=new i.h(1,1),z=new i.c(b,F,x,i.i),k=new i.m;z.needsUpdate=!0;for(var V,J,W,L,P,R,j,O,q,M,D,H,G,T,Z,_,$,ee,te,oe,ne,Ae=!1,ae=5,re=new i.o(194,178,128),ie=new i.o(35,35,255),de=new i.o(150,105,25),le=new i.o(100,100,100),se=new i.o(15,27,27),ce=new i.o(255,0,0),ue=new i.o(55,55,55),ge=new i.o(50,205,50),ye=new i.o(176,179,183),ve=new i.o(0,0,0),pe=new i.o(247,104,6),fe=new i.o(245,0,0),Ce=new i.o(245,245,0),Be=new i.o(245,165,0),Qe=new i.j,he=new i.n,me=new i.k,Ee=new i.g(E/(-2/I),E/(2/I),w/(2/U),w/(-2/U),0,10),we=new i.p,Ie=new i.b,Ue=0,xe=1/60,Fe=[],Xe=0,be=(F-100)/2,Ye=10+(x-200)/-2,Ke=!1,Se=!1,Ne=0,ze=0,ke=0,Ve=[],Je=[],We={type:2,colour:ie,hasUpdated:0,velocityX:2,velocityY:2,density:4,spreadFactor:5},Le={type:1,colour:re,hasUpdated:0,velocityX:2,velocityY:2,density:5,acidRes:.25},Pe={type:3,colour:de,hasUpdated:0,velocityX:0,velocityY:0,density:10,flammability:.2,acidRes:.02},Re={type:4,colour:le,hasUpdated:0,velocityX:1,velocityY:1,density:2,ttd:50},je={type:5,colour:ce,hasUpdated:0,velocityX:1,velocityY:1,density:2,ttd:20},Oe={type:6,colour:ue,hasUpdated:0,velocityX:2,velocityY:2,density:5,flammability:4,acidRes:.25},qe={type:7,colour:ge,hasUpdated:0,velocityX:2,velocityY:2,density:3,spreadFactor:3,flammability:2.1},Me={type:8,colour:ye,hasUpdated:0,velocityX:0,velocityY:0,density:10,acidRes:.001},De={type:9,colour:ve,hasUpdated:0,velocityX:0,velocityY:0,density:99},He={type:10,colour:ve,hasUpdated:0,density:100},Ge={type:11,colour:pe,hasUpdated:0,density:4,velocityX:1,velocityY:1,spreadFactor:1},Te={type:0,colour:se,hasUpdated:0,velocityX:0,velocityY:0,density:0},Ze=Te,_e=25,$e=function(e,t){return Math.floor(Math.random()*(t-e)+e)},et=new Array(X),tt=0;tt<X;tt++)et[tt]=JSON.parse(JSON.stringify(Ze)),b[4*tt]=se.x,b[4*tt+1]=se.y,b[4*tt+2]=se.z,b[4*tt+3]=255;var ot=16,nt=Math.ceil(x/ot);console.log("Chunk Size Height = "+nt);var At=Math.ceil(F/ot);console.log("Chunk Size Width = "+At);for(var at={chunkX:0,chunkY:0,shouldStep:!1,shouldNextStep:!1,bottomLeft:0,debugPlane:0},rt=Array.from(Array(ot),function(){return new Array(ot)}),it=0;it<ot;it++)for(var dt=0;dt<ot;dt++)rt[it][dt]=JSON.parse(JSON.stringify(at)),rt[it][dt].chunkX=it,rt[it][dt].chunkY=dt,rt[it][dt].bottomLeft=it*At+F*(dt*nt);console.log("width = "+Math.floor(E*I)),console.log("height = "+Math.floor(w*U)),function(){we.setSize(E,w),we.domElement.addEventListener("pointermove",kt),we.domElement.addEventListener("pointerdown",Nt),we.domElement.addEventListener("pointerup",zt),we.setPixelRatio(window.devicePixelRatio),document.body.appendChild(we.domElement),Ee.position.z=1;var e=new i.e(new i.h(F,x),new i.l({uniforms:{v_texture:{value:z}},vertexShader:Q,fragmentShader:h}));e.name="Canvas",me.add(e);for(var t=0;t<ot;t++)for(var o=0;o<ot;o++)(ne=new i.e(new i.h(At,nt),new i.f({color:8947848}))).material.transparent=!0,ne.material.opacity=0,ne.position.x=t*At-8*At+30,ne.position.y=o*nt-8*nt+22,rt[t][o].debugPlane=ne,me.add(rt[t][o].debugPlane);!function(){var e=k.load(v.a),t=k.load(f.a),o=k.load(B.a),n=k.load(c.a);(D=new i.e(new i.h(40,15),new i.f({map:o}))).material.transparent=!0,D.translateX(be-55),D.translateY(Ye+60),D.name="dragOut",Fe.push(D),me.add(D);var A=new i.f({map:n});A.transparent=!0,(V=new i.e(new i.h(100,200),A)).translateX(be),V.translateY(Ye),V.name="sideBar",me.add(V),Fe.push(V),(T=new i.e(new i.h(99,197),new i.f({color:0}))).translateX(be+1),T.translateY(Ye+1),T.name="backGround",me.add(T),J=ct(-28,0,13421721,"Sand"),W=ct(2,0,2302975,"Water"),j=ct(32,0,9857305,"Wood"),q=ct(-28,-30,16711680,"Fire"),L=ct(2,-30,6579300,"Smoke"),R=ct(32,-30,3329330,"Acid"),O=ct(-28,-60,11580343,"Metal"),M=ct(2,-60,3618615,"Gunpowder"),P=ct(32,-60,16214022,"Lava"),Ve.push(J,W,j,q,L,R,O,M,P),Z=ct(72,0,0,"Bedrock"),Je.push(Z),(H=new i.e(new i.h(30,20),new i.f({map:t}))).material.transparent=!0,H.translateX(be+22),H.translateY(Ye-85),H.name="arrowRight",Fe.push(H),me.add(H),(G=new i.e(new i.h(30,20),new i.f({map:e}))).translateX(be-18+100),G.translateY(Ye-85),G.name="arrowLeft",Fe.push(G),me.add(G),_=ut(-30,80,65280),Fe.push(_),_.name="sizeButton1",me.add(_),$=ut(-15,80,65280),Fe.push($),$.name="sizeButton3",me.add($),ee=ut(0,80,65280),Fe.push(ee),ee.name="sizeButton5",me.add(ee),te=ut(15,80,65280),Fe.push(te),te.name="sizeButton7",me.add(te),oe=ut(30,80,65280),Fe.push(oe),oe.name="sizeButton9",me.add(oe)}();for(var n=0;n<F;n++)vt(n,He),vt(n+F*(x-1),He),vt(n+F*(x-2),He);for(var A=0;A<x;A++)vt(A*F,He),vt(A*F+(F-1),He)}();var lt=function(e,t,o,n,A){for(var a=Math.abs(o-e),r=-Math.abs(n-t),i=e<o?1:-1,d=t<n?1:-1,l=a+r,s=e+t*F,c=e+t*F;;){if(c=s,e===o&&t===n)return c;var u=2*l;if(u>=r){if(e===o)return c;l+=r,e+=i}if(u<=a){if(t===n)return c;l+=a,t+=d}if(s=e+t*F,t<=0)return c;if(A.density<=et[s].density)return c}};function st(e,t,o,n){var A=function(e,t){var o=document.createElement("canvas").getContext("2d"),n="".concat(e,"px sans-serif");o.font=n;var A=o.measureText(t).width+4,a=e+4;return o.canvas.width=A,o.canvas.height=a,o.font=n,o.textBaseline="top",o.fillStyle="white",o.fillText(t,2,2),o.canvas}(e,t),a=new i.a(A),r=new i.f({map:a,side:i.d,transparent:!0}),d=new i.e(N,r);return d.scale.x=.01*A.width,d.scale.y=.01*A.height,d.translateX(o),d.translateY(n),d}function ct(e,t,o,n){var A=[],a=new i.e(new i.h(18,18),new i.f({color:o}));a.translateX(be+e),a.translateY(Ye+t),a.name=n;var r=st(800,n,be+e,Ye+t+13);Fe.push(a);var d=k.load(g.a),l=new i.e(new i.h(20,20),new i.f({map:d}));return l.material.transparent=!0,l.translateX(be+e),l.translateY(Ye+t),me.add(a),me.add(l),me.add(r),A.push(a),A.push(l),A.push(r),A}function ut(e,t,o){var n=new i.e(new i.h(14,10),new i.f({color:o}));return n.translateX(be+e),n.translateY(Ye+t),n}function gt(e){D.position.x+=e,G.position.x+=e,H.position.x+=e,T.position.x+=e,V.position.x+=e,_.position.x+=e,$.position.x+=e,ee.position.x+=e,te.position.x+=e,oe.position.x+=e;for(var t=0;t<J.length;t++)J[t].position.x+=e,W[t].position.x+=e,j[t].position.x+=e,q[t].position.x+=e,L[t].position.x+=e,R[t].position.x+=e,O[t].position.x+=e,M[t].position.x+=e,P[t].position.x+=e,Z[t].position.x+=e}function yt(e,t,o){var n=(1-Math.cos(o*Math.PI))/2;return e*(1-n)+t*n}function vt(e,t){et[e]=JSON.parse(JSON.stringify(t)),b[4*e]=t.colour.x,b[4*e+1]=t.colour.y,b[4*e+2]=t.colour.z,b[4*e+3]=255,4===t.type&&(t.ttd=$e(5,150)),5===t.type&&(t.ttd=$e(10,40),t.colour=Ut())}function pt(e,t,o,n){if((void 0===o||void 0===n||!(o<0||o>F-1))&&!(n<1||n>x-1)&&(ht(o,n),100!==et[e].density))if(et[e].density<t.density){et[e]=JSON.parse(JSON.stringify(t));var A=$e(0,_e),a=$e(0,_e),r=$e(0,_e),i=A+t.colour.x>255?255:A+t.colour.x,d=a+t.colour.y>255?255:a+t.colour.y,l=r+t.colour.z>255?255:r+t.colour.z;b[4*e]=i,b[4*e+1]=d,b[4*e+2]=l,b[4*e+3]=255,4===t.type&&(t.ttd=$e(5,150)),5===t.type&&(t.ttd=$e(10,40),t.colour=Ut())}else 0===t.type&&(et[e]=JSON.parse(JSON.stringify(t)),b[4*e]=se.x,b[4*e+1]=se.y,b[4*e+2]=se.z,b[4*e+3]=255)}function ft(e,t,o){if(e!==t){var n=Math.floor(e/F),A=e%F;ht(A,n),n=Math.floor(t/F),ht(A=t%F,n);var a=et[e];et[e]=et[t],et[t]=a;var r=new i.o(b[4*t],b[4*t+1],b[4*t+2]);b[4*e]=r.x,b[4*e+1]=r.y,b[4*e+2]=r.z,b[4*e+3]=255;var d=$e(0,_e),l=$e(0,_e),s=$e(0,_e),c=d+o.x>255?255:d+o.x,u=l+o.y>255?255:l+o.y,g=s+o.z>255?255:s+o.z;b[4*t]=c,b[4*t+1]=u,b[4*t+2]=g,b[4*t+3]=255}}function Ct(e,t){if(0===e){G.translateX(100);for(var o=0;o<Ve.length;o++)for(var n=0;n<3;n++)Ve[o][n].translateX(-100)}else if(1===e){H.translateX(100);for(var A=0;A<Je.length;A++)for(var a=0;a<3;a++)Je[A][a].translateX(-100)}if(0===t){G.translateX(-100);for(var r=0;r<Ve.length;r++)for(var i=0;i<3;i++)Ve[r][i].translateX(100)}else if(1===t){H.translateX(-100);for(var d=0;d<Je.length;d++)for(var l=0;l<3;l++)Je[d][l].translateX(100)}}function Bt(){Qe.setFromCamera(he,Ee);var e=Qe.intersectObjects(Fe);if(e.length>0){S=!0;for(var t=0;t<e.length;t++)Ae&&("Sand"===e[t].object.name?Ze=Le:"Water"===e[t].object.name?Ze=We:"Smoke"===e[t].object.name?Ze=Re:"Wood"===e[t].object.name?Ze=Pe:"Acid"===e[t].object.name?Ze=qe:"Fire"===e[t].object.name?Ze=je:"Metal"===e[t].object.name?Ze=Me:"Gunpowder"===e[t].object.name?Ze=Oe:"Lava"===e[t].object.name?Ze=Ge:"Bedrock"===e[t].object.name?Ze=De:"dragOut"===e[t].object.name?Se=!0:"arrowRight"===e[t].object.name?Ct(ke+=1,ke-1):"arrowLeft"===e[t].object.name?Ct(ke-=1,ke+1):"sizeButton1"===e[t].object.name?ae=1:"sizeButton3"===e[t].object.name?ae=3:"sizeButton5"===e[t].object.name?ae=5:"sizeButton7"===e[t].object.name?ae=7:"sizeButton9"===e[t].object.name&&(ae=9));Ae=!1}else S=!1;if(!0===Se)if(Ke)if((Ne+=.025)>=1)Se=!1,Ke=!1,Ne=0,ze=0;else{var o=yt(0,-100,Ne),n=o-ze;ze=o,gt(n)}else if((Ne+=.025)>=1)Se=!1,Ke=!0,Ne=0,ze=0;else{var A=yt(0,100,Ne),a=A-ze;ze=A,gt(a)}if(Ae&&!S&&function(e,t,o){for(var n=-o;n<o;n++)for(var A=Math.floor(Math.sqrt(o*o-n*n)),a=-A;a<A;a++)pt(n+e+F*(a+t),Ze,n+e,a+t)}(Y,K,ae),1===Xe){for(var r=0;r<x;r++)for(var i=0;i<F;i++){Qt(i,r).shouldStep?mt(i,r):i+=At-1}Xe=0}else{for(var d=0;d<x;d++)for(var l=F-1;l>=0;l--){Qt(l,d).shouldStep?mt(l,d):l-=At-1}Xe=1}for(var s=0;s<ot;s++)for(var c=0;c<ot;c++){var u=rt[s][c];u.debugPlane.material.opacity=0,u.shouldStep&&(u.debugPlane.material.opacity=.2),u.shouldStep=u.shouldNextStep,u.shouldNextStep=!1}for(var g=0;g<X;g++)et[g].hasUpdated=0;z.needsUpdate=!0}function Qt(e,t){var o=Math.floor(e/At),n=Math.floor(t/nt);return rt[o][n]}function ht(e,t){var o=Math.floor(e/At),n=Math.floor(t/nt);rt[o][n].shouldNextStep=!0,e%At===0&&o-1>=0&&(rt[o-1][n].shouldNextStep=!0),e%At===At-1&&o+1<ot&&(rt[o+1][n].shouldNextStep=!0),t%nt===0&&n-1>=0&&(rt[o][n-1].shouldNextStep=!0),t%nt===nt-1&&n+1<ot&&(rt[o][n+1].shouldNextStep=!0)}function mt(e,t){var o=e+F*t;if(0!==et[o].type&&0===et[o].hasUpdated){if(1===et[o].type)return et[o].hasUpdated=1,void St(e,t);if(2===et[o].type)return et[o].hasUpdated=1,void Yt(e,t);if(4===et[o].type)return et[o].hasUpdated=1,void Kt(e,t);if(5===et[o].type)return et[o].hasUpdated=1,void xt(e,t);if(6===et[o].type)return et[o].hasUpdated=1,void St(e,t);if(7===et[o].type)return et[o].hasUpdated=1,void Xt(e,t);if(11===et[o].type)return et[o].hasUpdated=1,void Ft(e,t)}}function Et(){requestAnimationFrame(Et),(Ue+=Ie.getDelta())>xe&&(m.begin(),Bt(),we.render(me,Ee),Ue%=xe,m.end())}function wt(e){if(0!==et[e].flammability&&void 0!==et[e].flammability){var t=Math.floor(e/F);if(ht(e%F,t),$e(0,1001)<=100*et[e].flammability){var o=Math.floor(e/F);!function(e,t,o,n){ht(o,n);var A=2.5*et[e].density;et[e]=JSON.parse(JSON.stringify(t)),et[e].colour=Ut();var a=$e(0,_e),r=$e(0,_e),i=$e(0,_e),d=a+t.colour.x>255?255:a+et[e].colour.x,l=r+t.colour.y>255?255:r+et[e].colour.y,s=i+t.colour.z>255?255:i+et[e].colour.z;b[4*e]=d,b[4*e+1]=l,b[4*e+2]=s,b[4*e+3]=2555,et[e].ttd=$e(10,40),et[e].ttd+=A}(e,je,e%F,o)}}}function It(e){if(0!==et[e].acidRes&&void 0!==et[e].acidRes){var t=Math.floor(e/F),o=e%F;ht(o,t),$e(0,1001)<=100*et[e].acidRes&&pt(e,Te,o,t)}}function Ut(){var e=$e(0,3);return 0===e?fe:1===e?Ce:2===e?Be:void 0}function xt(e,t){var o=e+t*F;ht(e,t),et[o].ttd--,et[o].ttd<=0&&(pt(o,Te,e,t),pt(o,Re,e,t));var n=o-F;wt(n),wt(n=o-F-1),wt(n=o-F+1),wt(n=o-1),wt(n=o+1),wt(n=o+F+1),wt(n=o+F-1),wt(n=o+F),0===$e(0,2)&&et[o+F].density<et[o].density&&ft(o,o+F,et[o].colour)}function Ft(e,t){var o=e+t*F,n=et[o],A=o-F;return wt(A),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o-F-1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o-F+1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o-1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o+1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o+F+1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o+F-1),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):(wt(A=o+F),2===et[A].type?(pt(o,Te,e,t),pt(o,De,e,t),pt(A,Te,e,t),void pt(A,Re,e,t)):void(t<2||bt(o,n,e,t)))))))))}function Xt(e,t){var o=e+t*F,n=et[o],A=o-F;It(A),It(A=o-1),It(A=o+1),It(A=o+F),t<2||bt(o,n,e,t)}function bt(e,t,o,n){1===$e(0,2)?t.density>et[e-F].density?ft(e,lt(o,n,o,n-t.velocityY,t),t.colour):t.density>et[e-1-F].density?ft(e,lt(o,n,o-t.velocityX-t.spreadFactor,n-t.velocityY,t),t.colour):t.density>et[e+1-F].density?ft(e,lt(o,n,o+t.velocityX+t.spreadFactor,n-t.velocityY,t),t.colour):t.density>et[e-1].density?ft(e,lt(o,n,o-t.velocityX-t.spreadFactor,n,t),t.colour):t.density>et[e+1].density&&ft(e,lt(o,n,o+t.velocityX+t.spreadFactor,n,t),t.colour):t.density>et[e-F].density?ft(e,lt(o,n,o,n-t.velocityY,t),t.colour):t.density>et[e+1-F].density?ft(e,lt(o,n,o+t.velocityX+t.spreadFactor,n-t.velocityY,t),t.colour):t.density>et[e-1-F].density?ft(e,lt(o,n,o-t.velocityX-t.spreadFactor,n-t.velocityY,t),t.colour):t.density>et[e+1].density?ft(e,lt(o,n,o+t.velocityX+t.spreadFactor,n,t),t.colour):t.density>et[e-1].density&&ft(e,lt(o,n,o-t.velocityX-t.spreadFactor,n,t),t.colour)}function Yt(e,t){var o=e+t*F,n=et[o];t<2||bt(o,n,e,t)}function Kt(e,t){var o=e+t*F;et[o].ttd--,et[o].ttd<=0&&pt(o,Te,e,t);var n=et[o];t>=x-1||function(e,t,o,n){t.density>et[e+F].density?ft(e,lt(o,n,o,n+t.velocityY,t),t.colour):t.density>et[e+F-1].density?ft(e,lt(o,n,o-t.velocityX,n+t.velocityY,t),t.colour):t.density>et[e+F+1].density&&ft(e,lt(o,n,o+t.velocityX,n+t.velocityY,t),t.colour)}(o,n,e,t)}function St(e,t){if(!(t<=1)){var o=e+t*F;!function(e,t,o,n){1===$e(0,2)?t.density>et[e-F].density?ft(e,lt(o,n,o,n-t.velocityY,t),t.colour):t.density>et[e-F-1].density?ft(e,lt(o,n,o-t.velocityX,n-t.velocityY,t),t.colour):t.density>et[e-F+1].density&&ft(e,lt(o,n,o+t.velocityX,n-t.velocityY,t),t.colour):t.density>et[e-F].density?ft(e,lt(o,n,o,n-t.velocityY,t),t.colour):t.density>et[e-F-1].density?ft(e,lt(o,n,o+t.velocityX,n-t.velocityY,t),t.colour):t.density>et[e-F+1].density&&ft(e,lt(o,n,o-t.velocityX,n-t.velocityY,t),t.colour)}(o,et[o],e,t)}}function Nt(e){Ae=!0}function zt(e){Ae=!1}function kt(e){he.x=e.clientX/E*2-1,he.y=-e.clientY/w*2+1,he.x=Math.floor(he.x*E/(2/I)),he.y=Math.floor(he.y*w/(2/U)),Y=Math.floor(he.x+E/(2/I)),K=Math.floor(he.y+w/(2/U)),he.x=e.clientX/window.innerWidth*2-1,he.y=-e.clientY/window.innerHeight*2+1}document.onkeydown=function(e){"1"===e.key?Ze=Le:"2"===e.key?Ze=We:"3"===e.key?Ze=Pe:"0"===e.key?Ze=Te:"4"===e.key?Ze=Re:"5"===e.key?Ze=je:"6"===e.key?Ze=Oe:"7"===e.key?Ze=qe:"8"===e.key?Ze=Me:"9"===e.key?Ze=De:"r"===e.key?(!function(){for(var e=0;e<X;e++)vt(e,Te)}(),we.render(me,Ee)):"t"===e.key&&(!function(){for(var e=0;e<X;e++)0===et[e].type&&vt(e,Te)}(),we.render(me,Ee))};var Vt=function(){return Et(),A.a.createElement(A.a.Fragment,null)},Jt=function(e){e&&e instanceof Function&&o.e(1).then(o.bind(null,26)).then(function(t){var o=t.getCLS,n=t.getFID,A=t.getFCP,a=t.getLCP,r=t.getTTFB;o(e),n(e),A(e),a(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(A.a.createElement("div",null,A.a.createElement(Vt,null))),Jt()}],[[11,3,2]]]);
//# sourceMappingURL=main.c5126f22.chunk.js.map