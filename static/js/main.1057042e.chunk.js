(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAQJJREFUWIXt2DGKg0AYhuF3jFUQBgZS2ZhD5BCB1FYezyo3SLXVVnuI2FgFhAFJO1uEibO7ISz8kEnxv5XogA9o9QHQtVXo2irwJqWesmurcNiv47Nw/trkkwHb3YXUUz46NEzT60RJjXN/7pX9cTZAAPg4rYCJ0XvzYlssDKcVcAWgP86mBFg+a1Yco/emtjb5zWaK+HCY8uJio/cm/cWKJ2ffIgVKU6A0BUpToDQFSlOgNAVKU6A0BUpToDQFSlOgNAVKU6C0O7Bxjtra7DNwbW1Ih8wCbrPrdne5H8hDW96den5t1Nc4ZmZBNs79b6N+tBXn6sdGfbues4I+z5B6vgG90VcDNzvQCAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAAAAXNSR0IArs4c6QAAAVdJREFUaIHtmM2KwjAQx//Kei4EPHmpIugL7Ps/gC+gsKy9eCoEPPdQD3ZdKeZjkthMcH63foX8mGZmGEAQBEEQ2DBLtdCqqvrn68v1mmztlHylWGRVVX2t1Ph2z1E6ekPPsuvvFgBwPiwBAI3W7CIdFeGx7HazGJ60D2luzEM/fCW73y0cX+UnSLhUWSBAmCo7zt65IZ1hqmytFBqtJ5e2JUrvDEqRPZ46/Px2WRJXozUAs7RXhKmR/X/WUvYazfmwfPxVJpzCoQkqTxJzl0OrcGw2nlL6eOq83jNm6ZJLj43gxqNUjL/0kOX6WqnhXNwTUOlRtp7hWGnfczUlziwdKv1Xi6fEp+571WGqNIfGw4R3a+krPZZ1beAd2FpLUi9NjbSrzcsBeQBAleYkCwROPEouWcEjHpM0d6JmWiZprvMsINFc+tWYluPEEvjAQbwgCIIgMOIGv4PTYu2YvxUAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAAAAXNSR0IArs4c6QAAAV5JREFUaIHtmLFqwzAQQF9LOwsMmbykpdD+QP//A/IDCZQmS6eAIbMHd3CcuK5ly9ZZucC9TcaIezr5JB8YhmEYhhoebh2Aj9y5qj3+OZ1EYn2SmESa3LlqnWXdx5WEtLoMt2VfPo8A7DcrAA5FEZ1plRmGWvbt9fk8OrLfrDgvRFSm1Qo3fLzLSqsXBllpVcLdytxGSnpQeCiApeipzhckpL3CjexQAEvRFKyr4JVY6cEMd4+HVPhkG2KkR7/hv8dDGoZk/78zTTq4aIUEkZo50qqq9BymSj8mi0wJdy+83ZV8fZfB9+3gLb3dlQLhhRFaL6bKQoBwPVnaYwnGpefIwojwoShYZ9ll0nTUC+yTnisLI//Dt7xa+m5bMbIwkmGptkoouXNVs6v6iJUFZVV6KHgJWVAm7ENKFu5AWFIWFF8t28ehZBNPXdcS+tu0ErKgVBiWa8QbhmEYhiJ+AVbZBW04JO/3AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAeCAYAAAC7Q5mxAAAAAXNSR0IArs4c6QAAAcFJREFUaIHtmTFuwjAUhv+0Zulo1L1GSO0dmDqhSj1A116CFWXNjZiYMnGBVkK4cyU8VV1QRYfoFRMZJ8ZuEsCfxGAQsf3xnnm2gYgXyUiIbduDCEkuZdJkfwwAPpTC4/inyX7/jVw22x/LpUxGQmzlYl/kcNBrdiQnCgN2Ya+LxHgDAHh+umlxeN2H6Q2jSHwD2EXkw32MTB1metMWkUQUWXBl+zCXMsmlTO44h1zcYj67xnK1wXK1wdt78QpBmvWd2l3CKpCoEulDmvXBOf+TVNXuGsYUPoQttS81pZ0EErrI+eyyJR4lkHYvVDcOB72LlAc4CiyLE4CzPH0tm07WLt0H+X5oagk8JA6on7Y0cc45AEAp5TxYgp6RZkW7TZGVAkdCbH3EAbt/0tDoItuSWKuM8WU6WUMp5RV1JuiZnY7A8mHDsTsSmiSlnQ/0Q5zMGli1tXNJZ99Jd0GaTiykPYmFtCexkPbE6f6gLA5wL6RNpFl/b22ratt4ef1s9E6kVmeHxAHdS9umBVpTOMQO5NwxCozi6rMn0CQuXirZYYA94kId258rrHxYQCxXUVwdGAAUdx1tDyUUX20PIOLCL16uJjcpbuCuAAAAAElFTkSuQmCC"},function(e,t,o){e.exports=o(25)},,,,,,,,function(e,t,o){},,function(e,t,o){},,,,function(e,t,o){"use strict";o.r(t);var n=o(1),A=o.n(n),a=o(4),r=o.n(a),i=(o(19),o(0)),d=(o(21),o(5)),l=o.n(d),s=o(6),c=o.n(s),u=o(7),g=o.n(u),v=o(8),y=o.n(v),p=o(9),f=o.n(p),C=o(10),B=o.n(C),Q=(o(23),"\n\nvarying vec3 v_Normal;\nvarying vec2 v_uv;\n\nvoid main(){\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n  v_Normal = normal;\n  v_uv = uv;\n\n}\n"),m="\nuniform sampler2D v_texture;\n\nvarying vec3 v_Normal;\nvarying vec2 v_uv;\n\nvoid main() {\n  vec4 tex = texture2D(v_texture, v_uv);\n  gl_FragColor = vec4(tex.xyz, 1);\n}\n",h=new l.a;h.showPanel(0),document.body.appendChild(h.dom);for(var w=window.innerWidth,E=window.innerHeight,I=.5,U=.5,x=Math.floor(E*U),F=Math.floor(w*I),X=x*F,b=new Uint8Array(4*X),Y=(new i.c(16777215),0),K=0,S=!1,N=new i.i(1,1),k=0;k<X;k++){var z=4*k;b[z]=255,b[z+1]=255,b[z+2]=255,b[z+3]=255}var V=new i.d(b,F,x,i.j),J=new i.n;V.needsUpdate=!0;for(var W,L,j,P,R,q,O,M,D,H,G,T,Z,_,$,ee,te,oe,ne,Ae,ae,re=!1,ie=5,de=new i.p(194,178,128),le=new i.p(35,35,255),se=new i.p(150,105,25),ce=new i.p(100,100,100),ue=new i.p(15,27,27),ge=new i.p(255,0,0),ve=new i.p(55,55,55),ye=new i.p(50,205,50),pe=new i.p(176,179,183),fe=new i.p(0,0,0),Ce=new i.p(247,104,6),Be=new i.p(245,0,0),Qe=new i.p(245,245,0),me=new i.p(245,165,0),he=new i.k,we=new i.o,Ee=new i.l,Ie=new i.h(w/(-2/I),w/(2/I),E/(2/U),E/(-2/U),0,10),Ue=new i.q,xe=new i.b,Fe=0,Xe=1/60,be=[],Ye=0,Ke=(new Worker("worker.js"),(F-100)/2),Se=10+(x-200)/-2,Ne=!1,ke=!1,ze=0,Ve=0,Je=0,We=[],Le=[],je={type:2,colour:le,hasUpdated:0,velocityX:2,velocityY:2,density:4,spreadFactor:5},Pe={type:1,colour:de,hasUpdated:0,velocityX:2,velocityY:2,density:5,acidRes:.25},Re={type:3,colour:se,hasUpdated:0,velocityX:0,velocityY:0,density:10,flammability:.2,acidRes:.02},qe={type:4,colour:ce,hasUpdated:0,velocityX:1,velocityY:1,density:2,ttd:50},Oe={type:5,colour:ge,hasUpdated:0,velocityX:1,velocityY:1,density:2,ttd:20},Me={type:6,colour:ve,hasUpdated:0,velocityX:2,velocityY:2,density:5,flammability:4,acidRes:.25},De={type:7,colour:ye,hasUpdated:0,velocityX:2,velocityY:2,density:3,spreadFactor:3,flammability:2.1},He={type:8,colour:pe,hasUpdated:0,velocityX:0,velocityY:0,density:10,acidRes:.001},Ge={type:9,colour:fe,hasUpdated:0,velocityX:0,velocityY:0,density:99},Te={type:10,colour:fe,hasUpdated:0,density:100},Ze={type:11,colour:Ce,hasUpdated:0,density:4,velocityX:1,velocityY:1,spreadFactor:1},_e={type:0,colour:ue,hasUpdated:0,velocityX:0,velocityY:0,density:0},$e=_e,et=25,tt=function(e,t){return Math.floor(Math.random()*(t-e)+e)},ot=new Array(X),nt=0;nt<X;nt++)ot[nt]=JSON.parse(JSON.stringify($e)),b[4*nt]=ue.x,b[4*nt+1]=ue.y,b[4*nt+2]=ue.z,b[4*nt+3]=255;var At=16,at=Math.ceil(x/At);console.log("Chunk Size Height = "+at);var rt=Math.ceil(F/At);console.log("Chunk Size Width = "+rt);for(var it={chunkX:0,chunkY:0,shouldStep:!1,shouldNextStep:!1,bottomLeft:0,debugPlane:0},dt=Array.from(Array(At),function(){return new Array(At)}),lt=0;lt<At;lt++)for(var st=0;st<At;st++)dt[lt][st]=JSON.parse(JSON.stringify(it)),dt[lt][st].chunkX=lt,dt[lt][st].chunkY=st,dt[lt][st].bottomLeft=lt*rt+F*(st*at);console.log("width = "+Math.floor(w*I)),console.log("height = "+Math.floor(E*U)),function(){Ue.setSize(w,E),Ue.domElement.addEventListener("pointermove",Jt),Ue.domElement.addEventListener("pointerdown",zt),Ue.domElement.addEventListener("pointerup",Vt),Ue.setPixelRatio(window.devicePixelRatio),document.body.appendChild(Ue.domElement),Ie.position.z=1;var e=new i.f(new i.i(F,x),new i.m({uniforms:{v_texture:{value:V}},vertexShader:Q,fragmentShader:m}));e.name="Canvas",Ee.add(e);for(var t=0;t<At;t++)for(var o=0;o<At;o++)(ae=new i.f(new i.i(rt,at),new i.g({color:8947848}))).material.transparent=!0,ae.material.opacity=0,ae.position.x=t*rt-8*rt+30,ae.position.y=o*at-8*at+22,dt[t][o].debugPlane=ae,Ee.add(dt[t][o].debugPlane);!function(){var e=J.load(y.a),t=J.load(f.a),o=J.load(B.a),n=J.load(c.a);(G=new i.f(new i.i(40,15),new i.g({map:o}))).material.transparent=!0,G.translateX(Ke-55),G.translateY(Se+60),G.name="dragOut",be.push(G),Ee.add(G);var A=new i.g({map:n});A.transparent=!0,(W=new i.f(new i.i(100,200),A)).translateX(Ke),W.translateY(Se),W.name="sideBar",Ee.add(W),be.push(W),(_=new i.f(new i.i(99,197),new i.g({color:0}))).translateX(Ke+1),_.translateY(Se+1),_.name="backGround",Ee.add(_),L=gt(-28,0,13421721,"Sand"),j=gt(2,0,2302975,"Water"),O=gt(32,0,9857305,"Wood"),D=gt(-28,-30,16711680,"Fire"),P=gt(2,-30,6579300,"Smoke"),q=gt(32,-30,3329330,"Acid"),M=gt(-28,-60,11580343,"Metal"),H=gt(2,-60,3618615,"Gunpowder"),R=gt(32,-60,16214022,"Lava"),We.push(L,j,O,D,P,q,M,H,R),$=gt(72,0,0,"Bedrock"),Le.push($),(T=new i.f(new i.i(30,20),new i.g({map:t}))).material.transparent=!0,T.translateX(Ke+22),T.translateY(Se-85),T.name="arrowRight",be.push(T),Ee.add(T),(Z=new i.f(new i.i(30,20),new i.g({map:e}))).translateX(Ke-18+100),Z.translateY(Se-85),Z.name="arrowLeft",be.push(Z),Ee.add(Z),ee=vt(-30,80,65280),be.push(ee),ee.name="sizeButton1",Ee.add(ee),te=vt(-15,80,65280),be.push(te),te.name="sizeButton3",Ee.add(te),oe=vt(0,80,65280),be.push(oe),oe.name="sizeButton5",Ee.add(oe),ne=vt(15,80,65280),be.push(ne),ne.name="sizeButton7",Ee.add(ne),Ae=vt(30,80,65280),be.push(Ae),Ae.name="sizeButton9",Ee.add(Ae)}();for(var n=0;n<F;n++)ft(n,Te),ft(n+F*(x-1),Te),ft(n+F*(x-2),Te);for(var A=0;A<x;A++)ft(A*F,Te),ft(A*F+(F-1),Te)}();var ct=function(e,t,o,n,A){for(var a=Math.abs(o-e),r=-Math.abs(n-t),i=e<o?1:-1,d=t<n?1:-1,l=a+r,s=e+t*F,c=e+t*F;;){if(c=s,e===o&&t===n)return c;var u=2*l;if(u>=r){if(e===o)return c;l+=r,e+=i}if(u<=a){if(t===n)return c;l+=a,t+=d}if(s=e+t*F,t<=0)return c;if(A.density<=ot[s].density)return c}};function ut(e,t,o,n){var A=function(e,t){var o=document.createElement("canvas").getContext("2d"),n="".concat(e,"px sans-serif");o.font=n;var A=o.measureText(t).width+4,a=e+4;return o.canvas.width=A,o.canvas.height=a,o.font=n,o.textBaseline="top",o.fillStyle="white",o.fillText(t,2,2),o.canvas}(e,t),a=new i.a(A),r=new i.g({map:a,side:i.e,transparent:!0}),d=new i.f(N,r);return d.scale.x=.01*A.width,d.scale.y=.01*A.height,d.translateX(o),d.translateY(n),d}function gt(e,t,o,n){var A=[],a=new i.f(new i.i(18,18),new i.g({color:o}));a.translateX(Ke+e),a.translateY(Se+t),a.name=n;var r=ut(800,n,Ke+e,Se+t+13);be.push(a);var d=J.load(g.a),l=new i.f(new i.i(20,20),new i.g({map:d}));return l.material.transparent=!0,l.translateX(Ke+e),l.translateY(Se+t),Ee.add(a),Ee.add(l),Ee.add(r),A.push(a),A.push(l),A.push(r),A}function vt(e,t,o){var n=new i.f(new i.i(14,10),new i.g({color:o}));return n.translateX(Ke+e),n.translateY(Se+t),n}function yt(e){G.position.x+=e,Z.position.x+=e,T.position.x+=e,_.position.x+=e,W.position.x+=e,ee.position.x+=e,te.position.x+=e,oe.position.x+=e,ne.position.x+=e,Ae.position.x+=e;for(var t=0;t<L.length;t++)L[t].position.x+=e,j[t].position.x+=e,O[t].position.x+=e,D[t].position.x+=e,P[t].position.x+=e,q[t].position.x+=e,M[t].position.x+=e,H[t].position.x+=e,R[t].position.x+=e,$[t].position.x+=e}function pt(e,t,o){var n=(1-Math.cos(o*Math.PI))/2;return e*(1-n)+t*n}function ft(e,t){ot[e]=JSON.parse(JSON.stringify(t)),b[4*e]=t.colour.x,b[4*e+1]=t.colour.y,b[4*e+2]=t.colour.z,b[4*e+3]=255,4===t.type&&(t.ttd=tt(5,150)),5===t.type&&(t.ttd=tt(10,40),t.colour=Ft())}function Ct(e,t,o,n){if((void 0===o||void 0===n||!(o<0||o>F-1))&&!(n<1||n>x-1)&&(wt(o,n),100!==ot[e].density))if(ot[e].density<t.density){ot[e]=JSON.parse(JSON.stringify(t));var A=tt(0,et),a=tt(0,et),r=tt(0,et),i=A+t.colour.x>255?255:A+t.colour.x,d=a+t.colour.y>255?255:a+t.colour.y,l=r+t.colour.z>255?255:r+t.colour.z;b[4*e]=i,b[4*e+1]=d,b[4*e+2]=l,b[4*e+3]=255,4===t.type&&(t.ttd=tt(5,150)),5===t.type&&(t.ttd=tt(10,40),t.colour=Ft())}else 0===t.type&&(ot[e]=JSON.parse(JSON.stringify(t)),b[4*e]=ue.x,b[4*e+1]=ue.y,b[4*e+2]=ue.z,b[4*e+3]=255)}function Bt(e,t,o){if(e!==t){var n=Math.floor(e/F),A=e%F;wt(A,n),n=Math.floor(t/F),wt(A=t%F,n);var a=ot[e];ot[e]=ot[t],ot[t]=a;var r=new i.p(b[4*t],b[4*t+1],b[4*t+2]);b[4*e]=r.x,b[4*e+1]=r.y,b[4*e+2]=r.z,b[4*e+3]=255;var d=tt(0,et),l=tt(0,et),s=tt(0,et),c=d+o.x>255?255:d+o.x,u=l+o.y>255?255:l+o.y,g=s+o.z>255?255:s+o.z;b[4*t]=c,b[4*t+1]=u,b[4*t+2]=g,b[4*t+3]=255}}function Qt(e,t){if(0===e){Z.translateX(100);for(var o=0;o<We.length;o++)for(var n=0;n<3;n++)We[o][n].translateX(-100)}else if(1===e){T.translateX(100);for(var A=0;A<Le.length;A++)for(var a=0;a<3;a++)Le[A][a].translateX(-100)}if(0===t){Z.translateX(-100);for(var r=0;r<We.length;r++)for(var i=0;i<3;i++)We[r][i].translateX(100)}else if(1===t){T.translateX(-100);for(var d=0;d<Le.length;d++)for(var l=0;l<3;l++)Le[d][l].translateX(100)}}function mt(){he.setFromCamera(we,Ie);var e=he.intersectObjects(be);if(e.length>0){S=!0;for(var t=0;t<e.length;t++)re&&("Sand"===e[t].object.name?$e=Pe:"Water"===e[t].object.name?$e=je:"Smoke"===e[t].object.name?$e=qe:"Wood"===e[t].object.name?$e=Re:"Acid"===e[t].object.name?$e=De:"Fire"===e[t].object.name?$e=Oe:"Metal"===e[t].object.name?$e=He:"Gunpowder"===e[t].object.name?$e=Me:"Lava"===e[t].object.name?$e=Ze:"Bedrock"===e[t].object.name?$e=Ge:"dragOut"===e[t].object.name?ke=!0:"arrowRight"===e[t].object.name?Qt(Je+=1,Je-1):"arrowLeft"===e[t].object.name?Qt(Je-=1,Je+1):"sizeButton1"===e[t].object.name?ie=1:"sizeButton3"===e[t].object.name?ie=3:"sizeButton5"===e[t].object.name?ie=5:"sizeButton7"===e[t].object.name?ie=7:"sizeButton9"===e[t].object.name&&(ie=9));re=!1}else S=!1;if(!0===ke)if(Ne)if((ze+=.025)>=1)ke=!1,Ne=!1,ze=0,Ve=0;else{var o=pt(0,-100,ze),n=o-Ve;Ve=o,yt(n)}else if((ze+=.025)>=1)ke=!1,Ne=!0,ze=0,Ve=0;else{var A=pt(0,100,ze),a=A-Ve;Ve=A,yt(a)}if(re&&!S&&function(e,t,o){for(var n=-o;n<o;n++)for(var A=Math.floor(Math.sqrt(o*o-n*n)),a=-A;a<A;a++)Ct(n+e+F*(a+t),$e,n+e,a+t)}(Y,K,ie),1===Ye){for(var r=0;r<x;r++)for(var i=0;i<F;i++){ht(i,r).shouldStep?Et(i,r):i+=rt-1}Ye=0}else{for(var d=0;d<x;d++)for(var l=F-1;l>=0;l--){ht(l,d).shouldStep?Et(l,d):l-=rt-1}Ye=1}for(var s=0;s<At;s++)for(var c=0;c<At;c++){var u=dt[s][c];u.debugPlane.material.opacity=0,u.shouldStep&&(u.debugPlane.material.opacity=.2),u.shouldStep=u.shouldNextStep,u.shouldNextStep=!1}for(var g=0;g<X;g++)ot[g].hasUpdated=0;V.needsUpdate=!0}function ht(e,t){var o=Math.floor(e/rt),n=Math.floor(t/at);return dt[o][n]}function wt(e,t){var o=Math.floor(e/rt),n=Math.floor(t/at);dt[o][n].shouldNextStep=!0,e%rt===0&&o-1>=0&&(dt[o-1][n].shouldNextStep=!0),e%rt===rt-1&&o+1<=At&&(dt[o+1][n].shouldNextStep=!0),t%at===0&&n-1<0&&(dt[o][n-1].shouldNextStep=!0),t%at===at-1&&n+1>=At&&(dt[o][n+1].shouldNextStep=!0)}function Et(e,t){var o=e+F*t;if(0!==ot[o].type&&0===ot[o].hasUpdated){if(1===ot[o].type)return ot[o].hasUpdated=1,void kt(e,t);if(2===ot[o].type)return ot[o].hasUpdated=1,void St(e,t);if(4===ot[o].type)return ot[o].hasUpdated=1,void Nt(e,t);if(5===ot[o].type)return ot[o].hasUpdated=1,void Xt(e,t);if(6===ot[o].type)return ot[o].hasUpdated=1,void kt(e,t);if(7===ot[o].type)return ot[o].hasUpdated=1,void Yt(e,t);if(11===ot[o].type)return ot[o].hasUpdated=1,void bt(e,t)}}function It(){requestAnimationFrame(It),(Fe+=xe.getDelta())>Xe&&(h.begin(),mt(),Ue.render(Ee,Ie),Fe%=Xe,h.end())}function Ut(e){if(0!==ot[e].flammability&&void 0!==ot[e].flammability){var t=Math.floor(e/F);if(wt(e%F,t),tt(0,1001)<=100*ot[e].flammability){var o=Math.floor(e/F);!function(e,t,o,n){wt(o,n);var A=2.5*ot[e].density;ot[e]=JSON.parse(JSON.stringify(t)),ot[e].colour=Ft();var a=tt(0,et),r=tt(0,et),i=tt(0,et),d=a+t.colour.x>255?255:a+ot[e].colour.x,l=r+t.colour.y>255?255:r+ot[e].colour.y,s=i+t.colour.z>255?255:i+ot[e].colour.z;b[4*e]=d,b[4*e+1]=l,b[4*e+2]=s,b[4*e+3]=2555,ot[e].ttd=tt(10,40),ot[e].ttd+=A}(e,Oe,e%F,o)}}}function xt(e){if(0!==ot[e].acidRes&&void 0!==ot[e].acidRes){var t=Math.floor(e/F),o=e%F;wt(o,t),tt(0,1001)<=100*ot[e].acidRes&&Ct(e,_e,o,t)}}function Ft(){var e=tt(0,3);return 0===e?Be:1===e?Qe:2===e?me:void 0}function Xt(e,t){var o=e+t*F;wt(e,t),ot[o].ttd--,ot[o].ttd<=0&&(Ct(o,_e,e,t),Ct(o,qe,e,t));var n=o-F;Ut(n),Ut(n=o-F-1),Ut(n=o-F+1),Ut(n=o-1),Ut(n=o+1),Ut(n=o+F+1),Ut(n=o+F-1),Ut(n=o+F),0===tt(0,2)&&ot[o+F].density<ot[o].density&&Bt(o,o+F,ot[o].colour)}function bt(e,t){var o=e+t*F,n=ot[o],A=o-F;return Ut(A),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o-F-1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o-F+1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o-1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o+1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o+F+1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o+F-1),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):(Ut(A=o+F),2===ot[A].type?(Ct(o,_e,e,t),Ct(o,Ge,e,t),Ct(A,_e,e,t),void Ct(A,qe,e,t)):void(t<2||Kt(o,n,e,t)))))))))}function Yt(e,t){var o=e+t*F,n=ot[o],A=o-F;xt(A),xt(A=o-1),xt(A=o+1),xt(A=o+F),t<2||Kt(o,n,e,t)}function Kt(e,t,o,n){1===tt(0,2)?t.density>ot[e-F].density?Bt(e,ct(o,n,o,n-t.velocityY,t),t.colour):t.density>ot[e-1-F].density?Bt(e,ct(o,n,o-t.velocityX-t.spreadFactor,n-t.velocityY,t),t.colour):t.density>ot[e+1-F].density?Bt(e,ct(o,n,o+t.velocityX+t.spreadFactor,n-t.velocityY,t),t.colour):t.density>ot[e-1].density?Bt(e,ct(o,n,o-t.velocityX-t.spreadFactor,n,t),t.colour):t.density>ot[e+1].density&&Bt(e,ct(o,n,o+t.velocityX+t.spreadFactor,n,t),t.colour):t.density>ot[e-F].density?Bt(e,ct(o,n,o,n-t.velocityY,t),t.colour):t.density>ot[e+1-F].density?Bt(e,ct(o,n,o+t.velocityX+t.spreadFactor,n-t.velocityY,t),t.colour):t.density>ot[e-1-F].density?Bt(e,ct(o,n,o-t.velocityX-t.spreadFactor,n-t.velocityY,t),t.colour):t.density>ot[e+1].density?Bt(e,ct(o,n,o+t.velocityX+t.spreadFactor,n,t),t.colour):t.density>ot[e-1].density&&Bt(e,ct(o,n,o-t.velocityX-t.spreadFactor,n,t),t.colour)}function St(e,t){var o=e+t*F,n=ot[o];t<2||Kt(o,n,e,t)}function Nt(e,t){var o=e+t*F;ot[o].ttd--,ot[o].ttd<=0&&Ct(o,_e,e,t);var n=ot[o];t>=x-1||function(e,t,o,n){t.density>ot[e+F].density?Bt(e,ct(o,n,o,n+t.velocityY,t),t.colour):t.density>ot[e+F-1].density?Bt(e,ct(o,n,o-t.velocityX,n+t.velocityY,t),t.colour):t.density>ot[e+F+1].density&&Bt(e,ct(o,n,o+t.velocityX,n+t.velocityY,t),t.colour)}(o,n,e,t)}function kt(e,t){if(!(t<=1)){var o=e+t*F;!function(e,t,o,n){1===tt(0,2)?t.density>ot[e-F].density?Bt(e,ct(o,n,o,n-t.velocityY,t),t.colour):t.density>ot[e-F-1].density?Bt(e,ct(o,n,o-t.velocityX,n-t.velocityY,t),t.colour):t.density>ot[e-F+1].density&&Bt(e,ct(o,n,o+t.velocityX,n-t.velocityY,t),t.colour):t.density>ot[e-F].density?Bt(e,ct(o,n,o,n-t.velocityY,t),t.colour):t.density>ot[e-F-1].density?Bt(e,ct(o,n,o+t.velocityX,n-t.velocityY,t),t.colour):t.density>ot[e-F+1].density&&Bt(e,ct(o,n,o-t.velocityX,n-t.velocityY,t),t.colour)}(o,ot[o],e,t)}}function zt(e){re=!0}function Vt(e){re=!1}function Jt(e){we.x=e.clientX/w*2-1,we.y=-e.clientY/E*2+1,we.x=Math.floor(we.x*w/(2/I)),we.y=Math.floor(we.y*E/(2/U)),Y=Math.floor(we.x+w/(2/I)),K=Math.floor(we.y+E/(2/U)),we.x=e.clientX/window.innerWidth*2-1,we.y=-e.clientY/window.innerHeight*2+1}document.onkeydown=function(e){"1"===e.key?$e=Pe:"2"===e.key?$e=je:"3"===e.key?$e=Re:"0"===e.key?$e=_e:"4"===e.key?$e=qe:"5"===e.key?$e=Oe:"6"===e.key?$e=Me:"7"===e.key?$e=De:"8"===e.key?$e=He:"9"===e.key?$e=Ge:"r"===e.key?(!function(){for(var e=0;e<X;e++)ft(e,_e)}(),Ue.render(Ee,Ie)):"t"===e.key&&(!function(){for(var e=0;e<X;e++)0===ot[e].type&&ft(e,_e)}(),Ue.render(Ee,Ie))};var Wt=function(){return It(),A.a.createElement(A.a.Fragment,null)},Lt=function(e){e&&e instanceof Function&&o.e(1).then(o.bind(null,26)).then(function(t){var o=t.getCLS,n=t.getFID,A=t.getFCP,a=t.getLCP,r=t.getTTFB;o(e),n(e),A(e),a(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(A.a.createElement("div",null,A.a.createElement(Wt,null))),Lt()}],[[11,3,2]]]);
//# sourceMappingURL=main.1057042e.chunk.js.map